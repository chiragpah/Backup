<section class="content">
    <div class="left-content">
        <div class="search-and-check">
            <form class="search-box">
                <input type="text" #searchInput name="searchInput" placeholder="Search event..."
                    [(ngModel)]="searchTerm" />
                <i class="fas fa-search" style="color: rgba(189, 192, 234, 0.4);" (click)="searchCourses()"></i>
            </form>
        </div>
        <div class="header">
            <picture class="night-img">
                <img class="header-desktop" src="../../assets/311696821-91011799-2b47-457d-9e11-65fe38a105d0.png"
                    alt="" />
            </picture>
        </div>
        <div class="upcoming-events">
            <h1>Registered Course</h1>
            <div class="event-container">
                <div *ngFor="let items of filteredCourses">
                    <a href="/course/{{items._id}}">
                        <div class="container">
                            <img *ngIf="items && items.thumbnail" [src]="items.thumbnail.url" class="thumbnail_img"
                                alt=url /><br />
                            <h1 class="title_txt">

                                <span class="course_name"> {{items.name}}</span>
                            </h1>
                            <div class="inner_content">
                                <div class="inner_content_body">

                                    <svg *ngFor="let star of generateRange(items.ratings)" stroke="currentColor"
                                        fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024" color="#f6b100"
                                        class="mr-2 cursor-pointer" height="20" width="20"
                                        xmlns="http://www.w3.org/2000/svg" style="color: rgb(246, 177, 0)">
                                        <path
                                            d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 0 0 .6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0 0 46.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z">
                                        </path>
                                    </svg>
                                </div>
                                <h5 class="count_txt">{{items.purchased}} Students</h5>
                            </div>
                            <div class="body_text">
                                <div class="body_txt1">
                                    <h3 class="body_txt2">{{items.price}} $</h3>
                                    <h5 class="body_price_sec">{{items.estimatedPrice}}</h5>
                                </div>
                                <div class="body_svg_sec">
                                    <svg stroke="currentColor" fill="#fff" stroke-width="0" viewBox="0 0 1024 1024"
                                        height="20" width="20" xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z">
                                        </path>
                                    </svg>
                                    <h5 class="card_lec_count"><span
                                            class="course_length">{{items.courseData.length}}</span></h5>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>

            </div>
        </div>
    </div>


    <div class="analytics">
        <h1>Analytics</h1>
        <div class="analytics-container" style="width: fit-content;">
            <div class="total-events">
                <div class="event-number card">
                    <h2>Progress</h2>
                    <div style="display: flex; justify-content: space-between;">
                        <p>{{totalValue.toFixed(2)}}</p>

                        <div class="spinner"></div>

                    </div>
                    <!-- class="fas fa-spinner fa-spin" -->
                </div>
                <div class="event-number card">
                    <h2>Registered Course</h2>
                    <p>{{course?.matchedCourses?.length}}</p>
                    <i class="fas fa-user-graduate" style="color: white; position:absolute; top: 108px; "></i>
                </div>
            </div>

            <div class="chart" id="doughnut-chart" *ngIf="course">
                <h2>Distribution of Attended Events</h2>



                <ngx-charts-pie-chart [results]="productSales" [view]="view" [gradient]="gradient" [labels]="showLabels"
                    [doughnut]="isDoughnut" (select)="onSelect($event)" (activate)="onActivate($event)"
                    (deactivate)="onDeactivate($event)" style="fill: white;">
                </ngx-charts-pie-chart>

                <ngx-charts-pie-grid [results]="productSales" [view]="view" (select)="onSelect($event)"
                    (activate)="onActivate($event)" (deactivate)="onDeactivate($event)" style="fill: white;">
                </ngx-charts-pie-grid>

                <ul></ul>
            </div>
        </div>
    </div>









</section>